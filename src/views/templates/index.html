{{#> layouts/default }}

<div class="index">
	<div class="index__header">
		<h1 class="index__heading">
			Fred Mercy / Blog
		</h1>

		<select type="button" class="index__jump-to js-index-jumpto">
			<option value="">Jump to...</option>
			{{#each entries as |entry index|}}
				<option class="index__jump-to-month" value="#{{ index }}">
					{{ index }}
				</option>
			{{/each}}
		</select>
	</div>

	<ul class="index__list">
	{{#each entries as |entry index|}}
		<li class="index__list-header">
			<h2
				id="{{ index }}"
				class="index__month-year"
			>
				{{ index }}
			</h2>
		</li>

		{{#each entry}}
			<li class="index__item">
				<div class="index__meta">
					<span class="index__date">
						{{ this.date }}
					</span>
					<span class="index__type">
						[{{ this.type }}]
					</span>
				</div>

				<a class="index__link" href="{{ this.url }}">
					{{#if this.title}}
						{{this.title}}
					{{else}}
						<em>Untitled</em><span class="index__extra"> entry for <em>{{formatDate this.rawDate day="numeric" month="long" year="numeric"}}</em></span>
					{{/if}}
				</a>
			</li>
		{{/each}}
	{{/each}}
	</ul>
</div>

{{/layouts/default}}
